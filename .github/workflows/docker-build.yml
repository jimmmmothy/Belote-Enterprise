# name: Build and Push Docker Images

# on:
#   push:
#     branches: [ "main" ]
#   pull_request:
#     branches: [ "main" ]

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     permissions:
#       contents: read
#       packages: write

#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4

#       - name: Log in to GitHub Container Registry
#         uses: docker/login-action@v3
#         with:
#           registry: ghcr.io
#           username: ${{ github.actor }}
#           password: ${{ secrets.GITHUB_TOKEN }}

#       - name: Build and push client image
#         run: |
#           docker build -t ghcr.io/${{ github.repository_owner }}/belote-client:latest ./client
#           docker push ghcr.io/${{ github.repository_owner }}/belote-client:latest

#       - name: Build and push server image
#         run: |
#           docker build -t ghcr.io/${{ github.repository_owner }}/belote-server:latest ./server
#           docker push ghcr.io/${{ github.repository_owner }}/belote-server:latest

#       - name: Build and push game service image
#         run: |
#           docker build -t ghcr.io/${{ github.repository_owner }}/belote-game-service:latest ./game-service
#           docker push ghcr.io/${{ github.repository_owner }}/belote-game-service:latest
      
#       - name: Build and push lobby service image
#         run: |
#           docker build -t ghcr.io/${{ github.repository_owner }}/belote-lobby-service:latest ./lobby-service
#           docker push ghcr.io/${{ github.repository_owner }}/belote-lobby-service:latest